(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Eiiv:function(e,t){"undefined"!=typeof jQuery&&"undefined"!=typeof saveAs?function(e){e.fn.wordExport=function(t){t=void 0!==t?t:"jQuery-Word-Export";var n={mhtml:{top:"Mime-Version: 1.0\nContent-Base: "+location.href+'\nContent-Type: Multipart/related; boundary="NEXT.ITEM-BOUNDARY";type="text/html"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset="utf-8"\nContent-Location: '+location.href+"\n\n<!DOCTYPE html>\n<html>\n_html_</html>",head:'<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<style>\n_styles_\n</style>\n</head>\n',body:"<body>_body_</body>"}},o=624,r=e(this).clone();r.each((function(){var t=e(this);t.is(":hidden")&&t.remove()}));var i=Array(),a=r.find("img");console.log(a);for(var s=0;s<a.length;s++){var c=Math.min(a[s].width,o),u=a[s].height*(c/a[s].width),d=document.createElement("CANVAS");d.width=c,d.height=u,d.getContext("2d").drawImage(a[s],0,0,c,u),e(a[s]).attr("src",a[s].src)}var l="\n";for(s=0;s<i.length;s++)l+="--NEXT.ITEM-BOUNDARY\n",l+="Content-Location: "+i[s].location+"\n",l+="Content-Type: "+i[s].type+"\n",l+="Content-Transfer-Encoding: "+i[s].encoding+"\n\n",l+=i[s].data+"\n\n";l+="--NEXT.ITEM-BOUNDARY--";var p=n.mhtml.top.replace("_html_",n.mhtml.head.replace("_styles_","")+n.mhtml.body.replace("_body_",r.html()))+l,f=new Blob([p],{type:"application/msword;charset=utf-8"});saveAs(f,t+".doc")}}(jQuery):("undefined"==typeof jQuery&&console.error("jQuery Word Export: missing dependency (jQuery)"),"undefined"==typeof saveAs&&console.error("jQuery Word Export: missing dependency (FileSaver.js)"))},Iab2:function(e,t,n){(function(n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?r(c):o(c.href)?t(e,n,a):r(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(o(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}}:function(e,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c||a)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var l=i.URL||i.webkitURL,p=l.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){l.revokeObjectURL(p)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?o.apply(t,r):o)||(e.exports=i)}).call(this,n("yLpj"))},TTmx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={htmlEncodeByRegExp:function(e){return 0==e.length?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},htmlDecodeByRegExp:function(e){return 0==e.length?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}}},fBJd:function(e,t,n){"use strict";n("z4dL")},rqBn:function(e,t,n){"use strict";n.r(t);n("Iab2"),n("Eiiv");var o=n("TTmx"),r=n("jWbq"),i={name:"recommend-ques",props:["curGroupData"],data:function(){return{url:r.b,HtmlUtil:o.a,questionList:[],diffMap:{.94:"容易",.85:"较易",.65:"中等",.64:"中等",.4:"较难",.15:"困难",0:"困难"}}},mounted:function(){console.log(this.curGroupData),this.getList()},methods:{getList:function(){var e=this;this.$request.fetchSelectquestion({id:this.curGroupData.id}).then((function(t){if(0===t.data.length)return e.getQuestion();e.questionList=t.data}))},getQuestion:function(){var e=this;this.$request.fetchGetProblem({rank:this.curGroupData.rank,weakKnowledge:this.getWeakKnowledge(this.curGroupData.weakpoints_and_rate),subjectId:this.curGroupData.subjectId[1]}).then((function(t){if(0===t.data.length)return e.$message.error("该分组没有获取到推荐试题");e.addQuestion(t.data.data)}))},addQuestion:function(e){var t=this;this.$request.fetchAddquestion({id:this.curGroupData.id,qid_list:e}).then((function(e){if(!e.data.result)return t.$message.error("推荐试题添加失败");t.getList()}))},getWeakKnowledge:function(e){for(var t=e.split("||"),n=[],o=0;o<t.length;o++)n.push(t[o].split("_")[0]);return n},deleteQues:function(e){var t=this;this.$request.fetchDelquestion({id:e}).then((function(e){if(e.data.desc)return t.$message.error(e.data.desc);t.getList(),t.$message({showClose:!0,message:"删除成功！",type:"success"})}))},confirmUpdate:function(){var e=this;this.$request.fetchUpdategroup({id:this.curGroupData.id,is_sure_student:this.curGroupData.is_sure_student,is_sure_question:1,groupid:this.curGroupData.groupid,snos:this.curGroupData.snos}).then((function(t){if(t.data.desc)return e.$message.error(t.data.desc);e.$message.success("确定成功"),e.back()})).catch((function(e){console.log(e)}))},isImage:function(e){if(e)return 0==e.indexOf("http")},getNo:function(e){return e?e.split("13q")[1].split(".html")[0]:""},back:function(){this.$store.dispatch("setGroupLevel","group")},download:function(){$("#myHtml").wordExport(this.curGroupData.level+"届-"+this.curGroupData.cno+"班-"+this.curGroupData.groupid+"组推荐试题")}}},a=(n("fBJd"),n("KHd+")),s=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{staticClass:"back",attrs:{size:"medium"},on:{click:e.back}},[e._v("返回上一级")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确定确认试题吗？确认后将不再可修改！"},on:{confirm:function(t){return e.confirmUpdate()}}},["ordinary"!==e.$store.getters.info.role&&0==+e.curGroupData.is_sure_question?n("el-button",{staticClass:"addBtn",attrs:{slot:"reference",size:"medium"},slot:"reference"},[e._v("确认试题")]):e._e()],1),e._v(" "),1==+e.curGroupData.is_sure_question?n("el-button",{staticClass:"addBtn",attrs:{size:"medium"},on:{click:e.download}},[e._v("导出word")]):e._e(),e._v(" "),n("div",{attrs:{id:"myHtml"}},e._l(e.questionList,(function(t){return n("el-card",{key:t.id,staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[n("span",[e._v("题号："+e._s(t.qno))]),e._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),n("span",[e._v(e._s(-1!==t.qtype.indexOf("题型")?t.qtype:"题型："+t.qtype))]),e._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),n("span",[e._v(e._s(t.source))]),e._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),n("span",[e._v("\n            "+e._s(-1!==t.difficulty.indexOf("难度")?e.diffMap[t.difficulty]:"难度："+e.diffMap[t.difficulty])+"\n          ")])],1),e._v(" "),0==+e.curGroupData.is_sure_question?n("div",{staticClass:"toolBtn"},[n("el-popconfirm",{attrs:{title:"确定删除这道题吗？"},on:{confirm:function(n){return e.deleteQues(t.id)}}},["ordinary"!==e.$store.getters.info.role?n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")]):e._e()],1)],1):e._e()]),e._v(" "),n("div",[n("div",{staticClass:"title"},[n("span",{domProps:{innerHTML:e._s(e.HtmlUtil.htmlDecodeByRegExp(t.stem))}})]),e._v(" "),e.isImage(t.answer)?n("img",{attrs:{src:e.url+"exam/download?filename="+e.getNo(t.weburl)+".png&answerpic=1&stempic=",alt:""}}):n("span",{domProps:{innerHTML:e._s(e.HtmlUtil.htmlDecodeByRegExp(t.answer))}}),e._v(" "),n("h4",[e._v("知识点:")]),e._v(" "),n("span",[e._v(e._s(t.points.replace(/[\s]+/g,"    ")))])])])})),1)],1)}),[],!1,null,"064f2d4a",null);t.default=s.exports},z4dL:function(e,t,n){}}]);
//# sourceMappingURL=4.7fe2bb55fb8a832bee51.js.map