(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Eiiv:function(t,e){"undefined"!=typeof jQuery&&"undefined"!=typeof saveAs?function(t){t.fn.wordExport=function(e){e=void 0!==e?e:"jQuery-Word-Export";var n={mhtml:{top:"Mime-Version: 1.0\nContent-Base: "+location.href+'\nContent-Type: Multipart/related; boundary="NEXT.ITEM-BOUNDARY";type="text/html"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset="utf-8"\nContent-Location: '+location.href+"\n\n<!DOCTYPE html>\n<html>\n_html_</html>",head:'<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<style>\n_styles_\n</style>\n</head>\n',body:"<body>_body_</body>"}},o=624,r=t(this).clone();r.each((function(){var e=t(this);e.is(":hidden")&&e.remove()}));var i=Array(),a=r.find("img");console.log(a);for(var s=0;s<a.length;s++){var c=Math.min(a[s].width,o),u=a[s].height*(c/a[s].width),l=document.createElement("CANVAS");l.width=c,l.height=u,l.getContext("2d").drawImage(a[s],0,0,c,u),t(a[s]).attr("src",a[s].src)}var d="\n";for(s=0;s<i.length;s++)d+="--NEXT.ITEM-BOUNDARY\n",d+="Content-Location: "+i[s].location+"\n",d+="Content-Type: "+i[s].type+"\n",d+="Content-Transfer-Encoding: "+i[s].encoding+"\n\n",d+=i[s].data+"\n\n";d+="--NEXT.ITEM-BOUNDARY--";var p=n.mhtml.top.replace("_html_",n.mhtml.head.replace("_styles_","")+n.mhtml.body.replace("_body_",r.html()))+d,f=new Blob([p],{type:"application/msword;charset=utf-8"});saveAs(f,e+".doc")}}(jQuery):("undefined"==typeof jQuery&&console.error("jQuery Word Export: missing dependency (jQuery)"),"undefined"==typeof saveAs&&console.error("jQuery Word Export: missing dependency (FileSaver.js)"))},Iab2:function(t,e,n){(function(n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){s(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,n,a){var s=i.URL||i.webkitURL,c=document.createElement("a");n=n||t.name||"download",c.download=n,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?r(c):o(c.href)?e(t,n,a):r(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(o(t))e(t,n,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){r(a)}))}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var s="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var d=i.URL||i.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});i.saveAs=s.saveAs=s,t.exports=s})?o.apply(e,r):o)||(t.exports=i)}).call(this,n("yLpj"))},TTmx:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={htmlEncodeByRegExp:function(t){return 0==t.length?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},htmlDecodeByRegExp:function(t){return 0==t.length?"":t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}}},bPau:function(t,e,n){"use strict";n("gWwP")},gWwP:function(t,e,n){},rqBn:function(t,e,n){"use strict";n.r(e);n("Iab2"),n("Eiiv");var o=n("TTmx"),r=n("jWbq"),i={name:"recommend-ques",props:["curGroupData"],data:function(){return{url:r.b,HtmlUtil:o.a,questionList:[],diffMap:{.94:"容易",.85:"较易",.65:"中等",.64:"中等",.4:"较难",.15:"困难",0:"困难"}}},mounted:function(){console.log(this.curGroupData),this.getList()},methods:{getList:function(){var t=this;this.$request.fetchSelectquestion({id:this.curGroupData.id}).then((function(e){if(0===e.data.length)return t.getQuestion();t.questionList=e.data}))},getQuestion:function(){var t=this;this.$request.fetchGetProblem({rank:this.curGroupData.rank,weakKnowledge:this.getWeakKnowledge(this.curGroupData.weakpoints_and_rate),subjectId:this.curGroupData.subjectId[1]}).then((function(e){if(0===e.data.length)return t.$message.error("该分组没有获取到推荐试题");t.addQuestion(e.data.data)}))},addQuestion:function(t){var e=this;this.$request.fetchAddquestion({id:this.curGroupData.id,qid_list:t}).then((function(t){if(!t.data.result)return e.$message.error("推荐试题添加失败");e.getList()}))},getWeakKnowledge:function(t){for(var e=t.split("||"),n=[],o=0;o<e.length;o++)n.push(e[o].split("_")[0]);return n},deleteQues:function(t){var e=this;this.$request.fetchDelquestion({id:t}).then((function(t){if(t.data.desc)return e.$message.error(t.data.desc);e.getList(),e.$message({showClose:!0,message:"删除成功！",type:"success"})}))},confirmUpdate:function(){var t=this;this.$request.fetchUpdategroup({id:this.curGroupData.id,is_sure_student:this.curGroupData.is_sure_student,is_sure_question:1,groupid:this.curGroupData.groupid,snos:this.curGroupData.snos}).then((function(e){if(e.data.desc)return t.$message.error(e.data.desc);t.$message.success("确定成功"),t.back()})).catch((function(t){console.log(t)}))},isImage:function(t){if(t)return 0==t.indexOf("http")},getNo:function(t){return t?t.split("13q")[1].split(".html")[0]:""},back:function(){this.$store.dispatch("setGroupLevel","group")},download:function(){$("#myHtml").wordExport(this.curGroupData.level+"届-"+this.curGroupData.cno+"班-"+this.curGroupData.groupid+"组推荐试题")}}},a=(n("bPau"),n("KHd+")),s=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticClass:"back",attrs:{size:"medium"},on:{click:t.back}},[t._v("返回上一级")]),t._v(" "),n("el-popconfirm",{attrs:{title:"确定确认试题吗？确认后将不再可修改！"},on:{confirm:function(e){return t.confirmUpdate()}}},[0==+t.curGroupData.is_sure_question?n("el-button",{staticClass:"addBtn",attrs:{slot:"reference",size:"medium"},slot:"reference"},[t._v("确认试题")]):t._e()],1),t._v(" "),1==+t.curGroupData.is_sure_question?n("el-button",{staticClass:"addBtn",attrs:{size:"medium"},on:{click:t.download}},[t._v("导出word")]):t._e(),t._v(" "),n("div",{attrs:{id:"myHtml"}},t._l(t.questionList,(function(e){return n("el-card",{key:e.id,staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[n("span",[t._v("题号："+t._s(e.qno))]),t._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),n("span",[t._v(t._s(-1!==e.qtype.indexOf("题型")?e.qtype:"题型："+e.qtype))]),t._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),n("span",[t._v(t._s(e.source))]),t._v(" "),n("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),n("span",[t._v("\n            "+t._s(-1!==e.difficulty.indexOf("难度")?t.diffMap[e.difficulty]:"难度："+t.diffMap[e.difficulty])+"\n          ")])],1),t._v(" "),0==+t.curGroupData.is_sure_question?n("div",{staticClass:"toolBtn"},[n("el-popconfirm",{attrs:{title:"确定删除这道题吗？"},on:{confirm:function(n){return t.deleteQues(e.id)}}},[n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("删除")])],1)],1):t._e()]),t._v(" "),n("div",[n("div",{staticClass:"title"},[n("span",{domProps:{innerHTML:t._s(t.HtmlUtil.htmlDecodeByRegExp(e.stem))}})]),t._v(" "),t.isImage(e.answer)?n("img",{attrs:{src:t.url+"exam/download?filename="+t.getNo(e.weburl)+".png&answerpic=1&stempic=",alt:""}}):n("span",{domProps:{innerHTML:t._s(t.HtmlUtil.htmlDecodeByRegExp(e.answer))}}),t._v(" "),n("h4",[t._v("知识点:")]),t._v(" "),n("span",[t._v(t._s(e.points.replace(/[\s]+/g,"    ")))])])])})),1)],1)}),[],!1,null,"1ed9779c",null);e.default=s.exports}}]);
//# sourceMappingURL=4.29557c8bfa45c1f6d963.js.map