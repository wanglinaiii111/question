(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Ar7e:function(e,t,i){"use strict";i.r(t);var l=i("QbLZ"),s=i.n(l),a={name:"student",data:function(){return{dialogVisible:!1,dialogSubVisible:!1,ruleForm:{name:"",start_time:"",end_time:""},formAddSub:{subject_id:"",question_file_path:"",answer_file_path:""},tableData:[],allSubjectList:[]}},mounted:function(){this.getList(),this.getSubjectList()},methods:{getList:function(){var e=this;this.$request.fetchSelectExam({}).then((function(t){e.tableData=t.data.result})).catch((function(e){console.log(e)}))},getSubjectList:function(){var e=this;this.$request.fetchSelectSubject({}).then((function(t){e.allSubjectList=t.data})).catch((function(e){console.log(e)}))},create:function(){var e=this;this.$request.fetchCreateExam({name:this.ruleForm.name,start_time:this.ruleForm.start_time,end_time:this.ruleForm.end_time}).then((function(t){if(t.data.result)return e.dialogVisible=!1,e.getList(),void e.$message({showClose:!0,message:"创建成功！",type:"success"});t.data.desc&&e.$message({showClose:!0,message:t.data.desc,type:"error"})})).catch((function(e){console.log(e)}))},delete:function(e){var t=this;this.$request.fetchDelExam({exam_id:e}).then((function(e){t.getList(),t.$message({showClose:!0,message:"删除成功！",type:"success"})})).catch((function(e){console.log(e)}))},handleDelete:function(e){this.delete(e.exam_id)},createSubject:function(e){this.dialogSubVisible=!0,this.formAddSub=s()({},this.formAddSub,{exam_id:e.exam_id})},submitAddSubject:function(){var e=this;this.$request.fetchCreateExamsubject(this.formAddSub).then((function(t){if(t.data.result)return e.dialogVisible=!1,e.getList(),void e.$message({showClose:!0,message:"创建成功！",type:"success"});t.data.desc&&e.$message({showClose:!0,message:t.data.desc,type:"error"})})).catch((function(e){console.log(e)}))},showSubject:function(e){this.$router.push({path:"/subjectList",query:{exam_id:e.exam_id,exam_name:e.name}})}}},o=(i("yQ6Z"),i("KHd+")),r=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[[i("el-button",{staticClass:"addBtn",attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("创建考试")]),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[i("el-table-column",{attrs:{prop:"name",label:"考试名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"start_time",label:"开始时间",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"end_time",label:"结束时间",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.createSubject(t.row)}}},[e._v("添加科目")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.showSubject(t.row)}}},[e._v("查看科目")]),e._v(" "),i("el-popconfirm",{attrs:{title:"确定删除这次考试吗？"},on:{confirm:function(i){return e.handleDelete(t.row)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],e._v(" "),i("el-dialog",{attrs:{title:"创建考试",visible:e.dialogVisible,width:"337px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{model:e.ruleForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"考试名称"}},[i("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"结束时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"添加科目",visible:e.dialogSubVisible,width:"357px"},on:{"update:visible":function(t){e.dialogSubVisible=t}}},[i("el-form",{attrs:{model:e.formAddSub,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"考试科目"}},[i("el-select",{attrs:{size:"medium",placeholder:"请选择考试科目",filterable:""},model:{value:e.formAddSub.subject_id,callback:function(t){e.$set(e.formAddSub,"subject_id",t)},expression:"formAddSub.subject_id"}},e._l(e.allSubjectList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"试卷存储路径"}},[i("el-input",{attrs:{size:"medium"},model:{value:e.formAddSub.question_file_path,callback:function(t){e.$set(e.formAddSub,"question_file_path",t)},expression:"formAddSub.question_file_path"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"答案存储路径"}},[i("el-input",{attrs:{size:"medium"},model:{value:e.formAddSub.answer_file_path,callback:function(t){e.$set(e.formAddSub,"answer_file_path",t)},expression:"formAddSub.answer_file_path"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogSubVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitAddSubject}},[e._v("确 定")])],1)],1)],2)}),[],!1,null,"03c38c91",null);t.default=r.exports},quJd:function(e,t,i){},yQ6Z:function(e,t,i){"use strict";i("quJd")}}]);
//# sourceMappingURL=10.db559d4eefaeb9f915db.js.map