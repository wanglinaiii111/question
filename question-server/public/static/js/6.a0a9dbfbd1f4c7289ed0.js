(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+zyR":function(t,e,s){},TTmx:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var i={htmlEncodeByRegExp:function(t){return 0==t.length?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},htmlDecodeByRegExp:function(t){return 0==t.length?"":t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}}},cfE7:function(t,e,s){"use strict";s("+zyR")},rqBn:function(t,e,s){"use strict";s.r(e);var i=s("TTmx"),r=s("jWbq"),n={name:"recommend-ques",props:["curGroupData"],data:function(){return{url:r.b,HtmlUtil:i.a,questionList:[],diffMap:{.94:"容易",.85:"较易",.65:"中等",.64:"中等",.4:"较难",.15:"困难",0:"困难"}}},mounted:function(){console.log(this.curGroupData),this.getList()},methods:{getList:function(){var t=this;this.$request.fetchSelectquestion({id:this.curGroupData.id}).then((function(e){if(0===e.data.length)return t.getQuestion();t.questionList=e.data}))},getQuestion:function(){var t=this;this.$request.fetchGetProblem({rank:this.curGroupData.rank,weakKnowledge:this.getWeakKnowledge(this.curGroupData.weakpoints_and_rate),subjectId:this.curGroupData.subjectId[1]}).then((function(e){if(0===e.data.length)return t.$message.error("该分组没有获取到推荐试题");t.addQuestion(e.data.data)}))},addQuestion:function(t){var e=this;this.$request.fetchAddquestion({id:this.curGroupData.id,qid_list:t}).then((function(t){if(!t.data.result)return e.$message.error("推荐试题添加失败");e.getList()}))},getWeakKnowledge:function(t){for(var e=t.split("||"),s=[],i=0;i<e.length;i++)s.push(e[i].split("_")[0]);return s},deleteQues:function(t){var e=this;this.$request.fetchDelquestion({id:t}).then((function(t){if(t.data.desc)return e.$message.error(t.data.desc);e.getList(),e.$message({showClose:!0,message:"删除成功！",type:"success"})}))},confirmUpdate:function(){var t=this;this.$request.fetchUpdategroup({id:this.curGroupData.id,is_sure_student:this.curGroupData.is_sure_student,is_sure_question:1,groupid:this.curGroupData.groupid,snos:this.curGroupData.snos}).then((function(e){if(e.data.desc)return t.$message.error(e.data.desc);t.$message.success("确定成功")})).catch((function(t){console.log(t)}))},isImage:function(t){if(t)return 0==t.indexOf("http")},getNo:function(t){return t?t.split("13q")[1].split(".html")[0]:""},back:function(){this.$store.dispatch("setGroupLevel","group")}}},a=(s("cfE7"),s("KHd+")),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-button",{staticClass:"back",attrs:{size:"medium"},on:{click:t.back}},[t._v("返回上一级")]),t._v(" "),s("el-popconfirm",{attrs:{title:"确定确认试题吗？确认后将不再可修改！"},on:{confirm:function(e){return t.confirmUpdate()}}},[0==+t.curGroupData.is_sure_question?s("el-button",{staticClass:"addBtn",attrs:{slot:"reference",size:"medium"},slot:"reference"},[t._v("确认试题")]):t._e()],1),t._v(" "),t._l(t.questionList,(function(e){return s("el-card",{key:e.id,staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("div",[s("span",[t._v("题号："+t._s(e.qno))]),t._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("span",[t._v(t._s(-1!==e.qtype.indexOf("题型")?e.qtype:"题型："+e.qtype))]),t._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("span",[t._v(t._s(e.source))]),t._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("span",[t._v("\n          "+t._s(-1!==e.difficulty.indexOf("难度")?t.diffMap[e.difficulty]:"难度："+t.diffMap[e.difficulty])+"\n        ")])],1),t._v(" "),"superAdmin"===t.$store.getters.info.role&&0==+t.curGroupData.is_sure_question?s("div",{staticClass:"toolBtn"},[s("el-popconfirm",{attrs:{title:"确定删除这道题吗？"},on:{confirm:function(s){return t.deleteQues(e.id)}}},[s("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("删除")])],1)],1):t._e()]),t._v(" "),s("div",[s("div",{staticClass:"title"},[s("span",{domProps:{innerHTML:t._s(t.HtmlUtil.htmlDecodeByRegExp(e.stem))}})]),t._v(" "),t.isImage(e.answer)?s("img",{attrs:{src:t.url+"exam/download?filename="+t.getNo(e.weburl)+".png&answerpic=1&stempic=",alt:""}}):s("span",{domProps:{innerHTML:t._s(t.HtmlUtil.htmlDecodeByRegExp(e.answer))}})])])}))],2)}),[],!1,null,"04653fd4",null);e.default=o.exports}}]);
//# sourceMappingURL=6.a0a9dbfbd1f4c7289ed0.js.map