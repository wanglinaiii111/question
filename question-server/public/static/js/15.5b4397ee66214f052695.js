(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{PnJM:function(t,e,i){"use strict";i("XvnD")},XvnD:function(t,e,i){},aHvB:function(t,e,i){"use strict";i.r(e);var a=i("QbLZ"),s=i.n(a),l={name:"student",data:function(){return{dialogSubVisible:!1,formAddSub:{subject_id:"",question_file_path:"",answer_file_path:""},allSubjectList:[],curSubjectList:[],exam_id:"",exam_name:""}},mounted:function(){this.exam_id=this.$route.query.exam_id||"",this.exam_name=this.$route.query.exam_name||"",this.getList(),this.getSubjectList()},methods:{getList:function(){var t=this;this.$request.fetchSelectExamsubject({exam_id:this.exam_id}).then((function(e){t.curSubjectList=e.data.result})).catch((function(t){console.log(t)}))},getSubjectList:function(){var t=this;this.$request.fetchSelectSubject({}).then((function(e){t.allSubjectList=e.data})).catch((function(t){console.log(t)}))},createSubject:function(){this.dialogSubVisible=!0,this.formAddSub=s()({},this.formAddSub,{exam_id:this.exam_id})},submitAddSubject:function(){var t=this;this.$request.fetchCreateExamsubject(this.formAddSub).then((function(e){if(e.data.result)return t.dialogVisible=!1,t.getList(),void t.$message({showClose:!0,message:"创建成功！",type:"success"});e.data.desc&&t.$message({showClose:!0,message:e.data.desc,type:"error"})})).catch((function(t){console.log(t)}))},upload:function(t){},showReport:function(t){this.$router.push({path:"/classReport",query:{exam_detail_id:t.exam_detail_id,subject_name:t.subject_name,exam_name:this.exam_name}})}}},o=(i("PnJM"),i("KHd+")),u=Object(o.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("el-button",{staticClass:"addBtn",attrs:{size:"medium"},on:{click:t.createSubject}},[t._v("添加科目")]),t._v(" "),i("div",{staticClass:"card"},[i("h1",[t._v("考试名称："+t._s(t.exam_name))])]),t._v(" "),i("el-table",{attrs:{data:t.curSubjectList}},[i("el-table-column",{attrs:{property:"subject_name",label:"科目名称"}}),t._v(" "),i("el-table-column",{attrs:{property:"question_file_path",label:"试卷文件名"}}),t._v(" "),i("el-table-column",{attrs:{property:"answer_file_path",label:"答案文件名"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.upload(e.row)}}},[t._v("上传成绩单")]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.showReport(e.row)}}},[t._v("查看各班级成绩单")])]}}])})],1)],t._v(" "),i("el-dialog",{attrs:{title:"添加科目",visible:t.dialogSubVisible,width:"357px"},on:{"update:visible":function(e){t.dialogSubVisible=e}}},[i("el-form",{attrs:{model:t.formAddSub,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"考试科目"}},[i("el-select",{attrs:{size:"medium",placeholder:"请选择考试科目",filterable:""},model:{value:t.formAddSub.subject_id,callback:function(e){t.$set(t.formAddSub,"subject_id",e)},expression:"formAddSub.subject_id"}},t._l(t.allSubjectList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"试卷存储路径"}},[i("el-input",{attrs:{size:"medium"},model:{value:t.formAddSub.question_file_path,callback:function(e){t.$set(t.formAddSub,"question_file_path",e)},expression:"formAddSub.question_file_path"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"答案存储路径"}},[i("el-input",{attrs:{size:"medium"},model:{value:t.formAddSub.answer_file_path,callback:function(e){t.$set(t.formAddSub,"answer_file_path",e)},expression:"formAddSub.answer_file_path"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submitAddSubject}},[t._v("确 定")])],1)],1)],2)}),[],!1,null,"7f1a6997",null);e.default=u.exports}}]);
//# sourceMappingURL=15.5b4397ee66214f052695.js.map